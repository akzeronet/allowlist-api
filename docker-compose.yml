services:
  allowlist:
    build: .
    container_name: allowlist-api
    ports:
      - "8080:8080"
    environment:
      #  Seguridad
      API_KEY: "pon-aqui-una-clave-larga-y-aleatoria"
      API_KEY_OLD: ""         # opcional (rotaci贸n)
      ENC_KEY: ""             # openssl rand -hex 32  (ACTIVA cifrado)
      ENC_KEY_OLD: ""         # opcional (rotaci贸n de cifrado)

      #  CORS: separa por comas si quieres restringir
      # ejemplo: https://n8n.mi.com,https://otro.origen.com
      CORS_ORIGINS: ""

      #  Validaci贸n por dominio (opcional), ej: empresa.com
      VALIDATE_DOMAIN: ""

      #  DB + Zona horaria
      DB_PATH: "/app/data/data.db"
      TZ: "America/Santo_Domingo"

      # 锔 Modo: 1=production, 2=development
      APP_MODE: "1"

      #  Documentaci贸n API
      DOCS_ENABLED: "true"
      DOCS_RELAX: "true"      # en dev=true; en prod=false recomendado
    volumes:
      - ./data:/app/data
    restart: unless-stopped
